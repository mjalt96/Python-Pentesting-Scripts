#!/usr/bin/python3

import socket
import sys

if len(sys.argv) <= 2:
    print("Not enough arguments.\nCorrect Syntax: ./banner_grabber.py [HOST] [PORT]")
    sys.exit(1)

try:
    ADDR = (sys.argv[1], int(sys.argv[2]))
except:
    sys.exit(1)

#create and connect to socket
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.connect(ADDR)

#HEAD request to the server 
#\n\r\n\r - two times enter
sock.send(b'HEAD // HTTP//1.1 \n\r\n\r')

#receive banner 1000 bytes
banner = sock.recv(1000)

sock.close()

print(banner.decode('utf-8'))